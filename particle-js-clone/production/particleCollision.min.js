const canvas=document.getElementById("canvasParticle"),ctx=canvas.getContext("2d");let particlesArray;canvas.height=window.window.innerHeight,canvas.width=window.window.innerWidth;const particleMultiplier=canvas.dataset.times?Number(canvas.dataset.times):1,rebounce=canvas.dataset.speed?Number(canvas.dataset.speed):5,particleColor=canvas.dataset.dotcolor?canvas.dataset.dotcolor:"#000",lineColor=canvas.dataset.linecolor?canvas.dataset.linecolor:"0,0,0",opacity=canvas.dataset.opacity?canvas.dataset.opacity:1,noLine=canvas.dataset.line?canvas.dataset.line:"true",mouseCollision=canvas.dataset.collide?canvas.dataset.collide:"true",ray=canvas.dataset.ray?canvas.dataset.ray:"false",raycolor=canvas.dataset.raycolor?canvas.dataset.raycolor:"rgba(200,200,0,0.5)";ctx.globalAlpha=opacity;const mouse={x:void 0,y:void 0,radius:canvas.height/80*(canvas.width/80)};window.addEventListener("mousemove",t=>{mouse.x=t.x,mouse.y=t.y});class Particle{constructor(t,a,e,i,s){this.x=t,this.y=a,this.directionX=e,this.directionY=i,this.size=s,this.color=particleColor}draw(){ctx.beginPath(),ctx.arc(this.x,this.y,this.size,0,2*Math.PI,!1),ctx.fillStyle=this.color,ctx.fill()}update(){if((this.x>canvas.width||this.x<0)&&(this.directionX-=2*this.directionX),(this.y>canvas.height||this.y<0)&&(this.directionY-=2*this.directionY),"true"===mouseCollision){let t=mouse.x-this.x,a=mouse.y-this.y;Math.sqrt(t*t+a*a)<mouse.radius+this.size&&(mouse.x<this.x&&this.x<canvas.width-10*this.size&&(this.x+=rebounce),mouse.x>this.x&&this.x>10*this.size&&(this.x-=rebounce),mouse.y<this.y&&this.y<canvas.height-10*this.size&&(this.y+=rebounce),mouse.y>this.y&&this.y>10*this.size&&(this.y-=rebounce))}this.x+=this.directionX,this.y+=this.directionY,this.draw()}}function init(){particlesArray=[];let t=canvas.height*canvas.width/9e3;for(let a=0;a<t*particleMultiplier;a++){let t=5*Math.random()+1,a=Math.random()*(canvas.width-2*t)-2*t,e=Math.random()*(canvas.height-2*t)-2*t,i=Math.random()*(rebounce-rebounce/10)-rebounce/2-rebounce/20,s=Math.random()*(rebounce-rebounce/10)-rebounce/2-rebounce/20;particlesArray.push(new Particle(a,e,i,s,t))}}function animate(){requestAnimationFrame(animate),ctx.clearRect(0,0,window.innerWidth,window.innerHeight);for(let t=0;t<particlesArray.length;t++)particlesArray[t].update();connect()}function connect(){let t=1;if("true"===noLine)for(let a=0;a<particlesArray.length;a++){for(let e=a;e<particlesArray.length;e++){let i=(particlesArray[a].x-particlesArray[e].x)*(particlesArray[a].x-particlesArray[e].x)+(particlesArray[a].y-particlesArray[e].y)*(particlesArray[a].y-particlesArray[e].y);i<canvas.width/7*(canvas.height/7)&&(t=1-i/2e4,ctx.strokeStyle=`rgba(${lineColor},${t})`,ctx.lineWidth=1,ctx.beginPath(),ctx.moveTo(particlesArray[a].x,particlesArray[a].y),ctx.lineTo(particlesArray[e].x,particlesArray[e].y),ctx.stroke())}"true"===ray&&(ctx.strokeStyle=raycolor,ctx.moveTo(particlesArray[a].x,particlesArray[a].y),ctx.lineTo(mouse.x,mouse.y),ctx.stroke())}}window.addEventListener("resize",()=>{canvas.width=window.innerWidth,canvas.height=window.innerHeight,mouse.radius=canvas.height/80*(canvas.width/80),init()}),window.addEventListener("mouseout",()=>{mouse.x=void 0,mouse.y=void 0}),init(),animate();